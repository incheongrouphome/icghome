# 배포 전 체크리스트

## ✅ 완료된 작업들 (2024-01-08)
- [x] 로그인/회원가입 시스템 완전 구현
- [x] 관리자 페이지 및 권한 관리 시스템
- [x] 모든 게시판 기능 (CRUD, 댓글, 첨부파일)
- [x] 홈화면 UI/UX 개선
- [x] 게시판 레이아웃 통일
- [x] Rich Text Editor 적용
- [x] 파일 업로드 시스템
- [x] 공지사항 시스템
- [x] 디버그 요소 제거
- [x] 프로덕션 빌드 테스트

## 🔧 배포 전 필수 확인사항

### 1. 환경 변수 설정
- [x] **DATABASE_URL** - 로컬 Supabase 데이터베이스 연결 ✅
- [x] **NODE_ENV=development** - 개발 환경 설정 ✅
- [x] **SESSION_SECRET** - 적절한 세션 암호화 키 설정 ✅
- [x] **VITE_SUPABASE_URL** - 로컬 Supabase URL 설정 ✅
- [x] **VITE_SUPABASE_ANON_KEY** - 로컬 Supabase 익명 키 설정 ✅
- [x] **SUPABASE_SERVICE_ROLE_KEY** - 로컬 Supabase 서비스 키 설정 ✅

### 2. 포트 충돌 해결
- [ ] 개발 서버 포트 5000 충돌 확인
- [ ] 프로덕션 서버 포트 설정 확인

### 3. 데이터베이스 설정
- [ ] 프로덕션 데이터베이스 생성 및 연결 테스트
- [ ] 데이터베이스 스키마 마이그레이션 실행
- [ ] 초기 데이터 (카테고리, 관리자 계정) 생성

### 4. 파일 시스템 권한
- [ ] `uploads/` 디렉토리 생성 및 쓰기 권한 설정
- [ ] `uploads/attachments/` 디렉토리 생성
- [ ] 웹 서버에서 `/uploads` 경로 정적 파일 서빙 설정

### 5. 보안 설정
- [x] 민감한 정보 환경 변수 처리
- [x] CORS 설정 확인
- [x] 세션 보안 설정
- [x] 파일 업로드 보안 검증
- [x] 민감한 정보 로그 제거 (비밀번호, 토큰 등)
- [x] Rate Limiting 적용 (로그인 15분 5회, 일반 API 15분 100회)
- [x] 보안 헤더 적용 (Helmet 미들웨어)
- [x] XSS 방지 (DOMPurify 사용)
- [x] SQL 인젝션 방지 (Drizzle ORM 사용)

### 6. 성능 최적화
- [ ] 정적 자산 압축 (gzip)
- [ ] 이미지 최적화
- [ ] 캐싱 설정

### 7. 배포 테스트
- [ ] 프로덕션 빌드 실행: `npm run build`
- [ ] 프로덕션 서버 실행: `npm start`
- [ ] 모든 페이지 접근 테스트
- [ ] 로그인/로그아웃 기능 테스트
- [ ] 게시판 CRUD 기능 테스트
- [ ] 파일 업로드 기능 테스트
- [ ] 관리자 페이지 접근 테스트

## 📋 배포 명령어

```bash
# 1. 의존성 설치
npm install

# 2. 프로덕션 빌드
npm run build

# 3. 프로덕션 서버 실행
npm start
```

## 🔍 배포 후 확인사항

### 기능 테스트
- [ ] 홈페이지 로딩 및 슬라이더 동작
- [ ] 로그인/로그아웃 기능
- [ ] 회원가입 기능 (이메일 인증)
- [ ] 모든 게시판 기능
- [ ] 파일 업로드/다운로드
- [ ] 관리자 페이지 접근
- [ ] 댓글 기능
- [ ] 공지사항 기능

### 성능 테스트
- [ ] 페이지 로딩 속도
- [ ] 파일 업로드 성능
- [ ] 동시 접속 처리

### 브라우저 호환성
- [ ] Chrome 최신 버전
- [ ] Firefox 최신 버전
- [ ] Safari 최신 버전
- [ ] Edge 최신 버전

## 🚨 알려진 이슈

### 개발 환경 이슈
- **포트 5000 충돌**: 다른 프로세스가 포트 5000을 사용 중일 경우 발생
  - 해결: `taskkill /f /im node.exe` 또는 다른 포트 사용

### 프로덕션 환경 고려사항
- **파일 업로드 제한**: 현재 최대 10MB로 설정
- **데이터베이스 연결**: PostgreSQL 기반 (Supabase 호환)
- **세션 관리**: 메모리 기반 (프로덕션에서는 Redis 권장)

## 📝 환경 변수 예시

```bash
# 프로덕션 환경 변수
DATABASE_URL=postgresql://user:password@host:5432/database
NODE_ENV=production
SESSION_SECRET=your-super-secret-key-here
```

## 📞 문의사항

배포 중 문제가 발생하면 개발 문서를 참고하거나 이슈를 보고해주세요.

---

**마지막 업데이트**: 2024-01-08
**프로젝트 상태**: 배포 준비 완료 ✅ 